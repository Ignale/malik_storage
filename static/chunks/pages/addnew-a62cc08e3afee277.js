(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34],{3670:function(e,t,a){"use strict";var n=a(9499),i=a(3179),l=a(4038),r=a(1039),s=a(5944);t.Z=function(e){var t=e.children;return(0,s.BX)(o,{children:[(0,s.tZ)(l.Z,{}),(0,s.tZ)(c,{children:t})]})};var o=(0,i.Z)("div",{target:"e105wq4n1"})({name:"7whenc",styles:"display:flex;width:100%"}),c=(0,i.Z)("div",{target:"e105wq4n0"})((0,n.Z)({width:"100vw",height:"100vh",overflowY:"scroll",paddingRight:"20px",paddingLeft:"20px"},r.H.tablet,{width:"100vw",paddingBottom:"12vh"}),"")},7861:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSG:function(){return q},default:function(){return M}});var n,i=a(3670),l=a(6687),r=a(9499),s=a(29),o=a(7794),c=a.n(o),u=a(9518),d=a(7294),m=a(6094),p=a(2552),f=a(3621),v=a(8918),h=a(2580),g=a(1202),b=a(9403),x=a(4182),Z=a(4420),N=a(2474),y=a(5944);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach(function(t){(0,r.Z)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k={regular_price:"",id:Math.random().toString(36),sku:"",image:{},stock_quantity:null,stock_status:"instock",attributes:[],manage_stock:!0,dimensions:{length:"290",width:"390",height:"90"},weight:"1000"},B=function(e){e.sku;var t,a=e.images,n=e.categories,i=e.attributes,r=(0,d.useState)(null),o=r[0],_=r[1],B=(0,d.useRef)(null),I=(0,h.TA)({initialValues:{name:"",type:"variable",categories:[],images:[],variations:[k],meta_data:[{key:"product_description",value:""},{key:"product_care",value:""},{key:"product_measurements",value:"test"},{key:"model_measurements",value:""},{key:"shipping",value:""}],sku:N.randomBytes(4).toString("hex").toUpperCase(),regular_price:0,manage_stock:!0,stock_quantity:10,on_sale:!1,sale_price:0,stock_status:"instock",status:"publish",backorders:"no",date_on_sale_from:"",date_on_sale_to:"",attributes:[],lang:"ru",default_attributes:[],backorders_allowed:!1,dimensions:{length:"290",width:"390",height:"90"},weight:"1000"},onSubmit:(t=(0,s.Z)(c().mark(function e(t,a){var n,i,l;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.setSubmitting,i=a.resetForm,n(!0),e.prev=2,e.next=5,fetch("/api/createProduct",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:if(200!==(l=e.sent).status){e.next=16;break}return e.next=9,l.json();case 9:console.log(e.sent),B.current.show({severity:"success",summary:"Успешно",detail:"Товар создан",life:3e3}),n(!1),i(),e.next=23;break;case 16:return e.next=18,l.json();case 18:console.log(e.sent),B.current.show({severity:"error",summary:"Ошибка",detail:"Товар не создан",life:3e3}),n(!1),i();case 23:e.next=31;break;case 25:e.prev=25,e.t0=e.catch(2),console.log(e.t0),B.current.show({severity:"error",summary:"Ошибка",detail:"Товар не создан",life:3e3}),n(!1),i();case 31:case"end":return e.stop()}},e,null,[[2,25]])})),function(e,a){return t.apply(this,arguments)})});console.log(I.values),I.initialValues.images=a;var S=function(e){return(0,y.BX)("div",{className:"flex align-items-center",children:[(0,y.tZ)("img",{width:50,height:50,style:{objectFit:"cover"},src:null==e?void 0:e.src,alt:null==e?void 0:e.alt_text}),(0,y.tZ)("span",{children:null==e?void 0:e.alt_text})]})},X=function(e){var t=I.values.variations[e].image;return t.src?(0,y.BX)("div",{className:"flex align-items-center",children:[(0,y.tZ)("img",{width:50,height:50,style:{objectFit:"cover"},src:t.src,alt:t.alt_text}),(0,y.tZ)("span",{children:t.alt_text})]}):(0,y.tZ)("span",{children:"Выберите изображение"})},C=function(e){var t=e.target.id,a=e.target.value,n=I.values.meta_data.findIndex(function(e){return e.key===t});I.setFormikState(function(e){return w(w({},e),{},{values:w(w({},e.values),{},{meta_data:[].concat((0,l.Z)(e.values.meta_data.slice(0,n)),[w(w({},e.values.meta_data[n]),{},{value:a})],(0,l.Z)(e.values.meta_data.slice(n+1)))})})})},O=function(e,t){console.log(e.value),I.setFormikState(function(a){var n=(0,l.Z)(a.values.variations);return n[t].image=e.value,w(w({},a),{},{values:w(w({},a.values),{},{variations:n})})})},P=function(e,t){e.originalEvent.target.id;var a=e.value;I.setFormikState(function(e){var n=(0,l.Z)(e.values.variations);return n[t]=w(w({},e.values.variations[t]),{},{regular_price:(null==a?void 0:a.toString())+".00"}),w(w({},e),{},{values:w(w({},e.values),{},{variations:n})})})},j=function(e,t){e.originalEvent.target.id;var a=e.value;I.setFormikState(function(e){var n=(0,l.Z)(e.values.variations);return n[t]=w(w({},e.values.variations[t]),{},{stock_quantity:a}),w(w({},e),{},{values:w(w({},e.values),{},{variations:n})})})},F=function(e,t){var a;return null===(a=I.values.variations[e].attributes[I.values.variations[e].attributes.findIndex(function(e){return e.id===t})])||void 0===a?void 0:a.option},z=function(e,t){console.log({e:e,index:t});var a="pa_cvet"===e.target.id?6:7,n=e.value,i=I.values.variations[t].attributes.findIndex(function(e){return e.id===a}),r=I.values.attributes.findIndex(function(e){return e.id===a});I.setFormikState(function(s){var o=(0,l.Z)(s.values.variations),c=(0,l.Z)(s.values.attributes),u=(0,l.Z)(s.values.default_attributes);return o[t].attributes=[].concat((0,l.Z)(o[t].attributes.slice(0,i)),[{id:a,slug:e.target.id,name:"pa_cvet"===e.target.id?"Color":"Size",option:n.name}],(0,l.Z)(o[t].attributes.slice(i+1))),u=[].concat((0,l.Z)(u.slice(0,r)),[{id:a,name:"pa_cvet"===e.target.id?"Color":"Size",option:n.name}],(0,l.Z)(u.slice(r+1))),c=[].concat((0,l.Z)(c.slice(0,r)),[{id:a,slug:e.target.id,name:"pa_cvet"===e.target.id?"Color":"Size",visible:!0,position:0,variation:!0,options:c[r]?[].concat((0,l.Z)(c[r].options),[n.name]):[n.name]}],(0,l.Z)(c.slice(r+1))),o[t].sku="".concat(I.values.sku,"-").concat(o[t].attributes.map(function(e){var t;return null===(t=e.option)||void 0===t?void 0:t.slice(0,2)}).join("")),w(w({},s),{},{values:w(w({},s.values),{},{attributes:c,variations:o})})})};return(0,y.BX)(u.p,{className:"my-3",children:[(0,y.tZ)(Z.F,{ref:B}),(0,y.BX)("form",{onSubmit:I.handleSubmit,id:"newProductForm",className:"flex flex-column gap-5",action:"sumbit",children:[(0,y.tZ)(v.i,{children:(0,y.BX)("div",{className:"inline-flex align-items-center",children:[(0,y.tZ)("i",{className:"pi pi-id-card mr-2"}),(0,y.tZ)("b",{children:"Основные данные"})]})}),(0,y.BX)("div",{className:"flex flex-1 flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"name",children:"Название платья"}),(0,y.tZ)(m.o,{value:I.values.name,name:"name",onChange:I.handleChange,id:"name"})]}),(0,y.BX)("div",{className:"flex flex-column md:flex-row gap-3",children:[(0,y.BX)("div",{className:"flex flex-column flex-1 gap-1",children:[(0,y.tZ)("label",{className:"mr-3",htmlFor:"regular_price",children:"Цена"}),(0,y.BX)("div",{className:"p-inputgroup  flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"₽"}),(0,y.tZ)(x.R,{value:I.values.regular_price,onChange:function(e){var t;I.setFieldValue("regular_price",null===(t=e.value)||void 0===t?void 0:t.toFixed(2))},placeholder:"Цена",id:"regular_price"}),(0,y.tZ)("span",{className:"p-inputgroup-addon",children:".00"})]})]}),(0,y.BX)("div",{className:"flex flex-column flex-1 gap-1",children:[(0,y.tZ)("label",{className:"mr-3",htmlFor:"sku",children:"Артикул"}),(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"#"}),(0,y.tZ)(m.o,{disabled:!0,value:I.values.sku,id:"sku"})]})]})]}),(0,y.tZ)(f.N,{value:o,id:"categories",onChange:function(e){_(e.value),I.setFormikState(function(t){var a=(0,l.Z)(e.value).map(function(e){return{id:e.databaseId}});return console.log(a),console.log((0,l.Z)(e.value)),w(w({},t),{},{values:w(w({},t.values),{},{categories:(0,l.Z)(a)})})})},options:n,optionLabel:"name",display:"chip",placeholder:"Выберите категории",maxSelectedLabels:10,className:"w-full"}),(0,y.BX)("div",{className:"flex md:flex-row flex-column gap-3",children:[(0,y.BX)("div",{className:"flex flex-1 flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"product_description",children:"Описание"}),(0,y.tZ)(p.g,{value:I.values.meta_data[I.values.meta_data.findIndex(function(e){return"product_description"===e.key})].value,onChange:C,rows:5,cols:30,id:"product_description"})]}),(0,y.BX)("div",{className:"flex flex-1  flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"product_care",children:"Уход"}),(0,y.tZ)(p.g,{value:I.values.meta_data[I.values.meta_data.findIndex(function(e){return"product_care"===e.key})].value,onChange:C,rows:5,cols:30,id:"product_care"})]})]}),(0,y.BX)("div",{className:"flex md:flex-row flex-column gap-3",children:[(0,y.BX)("div",{className:"flex flex-1  flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"product_measurements",children:"Размеры платья"}),(0,y.tZ)(p.g,{value:I.values.meta_data[I.values.meta_data.findIndex(function(e){return"product_measurements"===e.key})].value,onChange:C,rows:5,cols:30,id:"product_measurements"})]}),(0,y.BX)("div",{className:"flex flex-1  flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"model_measurements",children:"Размеры модели"}),(0,y.tZ)(p.g,{value:I.values.meta_data[I.values.meta_data.findIndex(function(e){return"model_measurements"===e.key})].value,onChange:C,rows:5,cols:30,id:"model_measurements"})]})]}),(0,y.tZ)("div",{className:"flex md:flex-row flex-column gap-3",children:(0,y.BX)("div",{className:"flex flex-1  flex-column gap-1",children:[(0,y.tZ)("label",{htmlFor:"shipping",children:"Доставка"}),(0,y.tZ)(p.g,{value:I.values.meta_data[I.values.meta_data.findIndex(function(e){return"shipping"===e.key})].value,onChange:C,rows:5,cols:30,id:"shipping"})]})}),(0,y.tZ)(v.i,{style:{marginBottom:"0px"},children:(0,y.BX)("div",{className:"inline-flex align-items-center mb-0",children:[(0,y.tZ)("i",{className:"pi pi-th-large mr-2"}),(0,y.tZ)("b",{children:"Вариации"})]})}),I.values.variations.map(function(e,t){return(0,y.BX)("div",{className:"pl-5",children:[(0,y.tZ)(v.i,{children:(0,y.BX)("p",{children:["#",t+1," Вариация"]})}),(0,y.BX)("div",{className:"flex flex-column gap-3",children:[(0,y.tZ)(g.L,{onChange:function(e){return O(e,t)},valueTemplate:X(t),id:"images",options:I.values.images,itemTemplate:S,placeholder:"Выберите изображение",className:"w-full"}),(0,y.BX)("div",{className:"flex flex-column md:flex-row gap-3",children:[(0,y.tZ)(g.L,{value:e.attributes[e.attributes.findIndex(function(e){return 6===e.id})],valueTemplate:F(t,6),id:"pa_cvet",onChange:function(e){return z(e,t)},options:i.pa_cvet,optionLabel:"name",placeholder:"Выберите цвет",className:"w-full "}),(0,y.tZ)(g.L,{value:e.attributes[e.attributes.findIndex(function(e){return 7===e.id})],valueTemplate:F(t,7),id:"pa_size",onChange:function(e){return z(e,t)},options:i.pa_size,optionLabel:"name",placeholder:"Выберите размер",className:"w-full "})]}),(0,y.BX)("div",{className:"flex flex-column sm:flex-row gap-3",children:[(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"₽"}),(0,y.tZ)(x.R,{value:Number(e.regular_price),placeholder:"Цена",onChange:function(e){P.call(null,e,t)},inputId:"var_regular_price"}),(0,y.tZ)("span",{className:"p-inputgroup-addon",children:".00"})]}),(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:(0,y.tZ)("i",{className:"pi pi-cart-plus"})}),(0,y.tZ)(x.R,{value:Number(e.stock_quantity),onChange:function(e){j.call(null,e,t)},placeholder:"Количество товара",inputId:"var_stock_quantity"})]}),(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"#"}),(0,y.tZ)(m.o,{disabled:!0,value:e.sku,placeholder:"Артикул",id:"var_sku"})]})]}),(0,y.BX)("div",{className:"flex flex-column sm:flex-row gap-3",children:[Object.keys(e.dimensions).map(function(t,a){return(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:(0,y.tZ)("i",{className:"pi pi-box"})}),(0,y.tZ)(x.R,{value:Number(e.dimensions[t]),placeholder:t,id:t}),(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"мм"})]},t)}),(0,y.BX)("div",{className:"p-inputgroup flex-1",children:[(0,y.tZ)("span",{className:"p-inputgroup-addon",children:(0,y.tZ)("i",{className:"pi pi-box"})}),(0,y.tZ)(x.R,{placeholder:"Вес",value:Number(e.weight),id:"weight"}),(0,y.tZ)("span",{className:"p-inputgroup-addon",children:"гр"})]})]})]})]},t)}),(0,y.tZ)("div",{className:"flex justify-content-center mt-5",children:(0,y.tZ)(b.z,{type:"button",onClick:function(e){e.preventDefault,I.setFormikState(function(e){return w(w({},e),{},{values:w(w({},e.values),{},{variations:[].concat((0,l.Z)(e.values.variations),[w(w({},k),{},{id:Math.random().toString(36)})])})})})},label:"Добавить вариацию",icon:"pi pi-plus"})}),(0,y.tZ)(v.i,{style:{marginBottom:"0px"}}),(0,y.tZ)("div",{className:"flex justify-content-center mt-3",children:(0,y.tZ)(b.z,{type:"submit",label:"Сохранить изменения",loading:I.isSubmitting,icon:"pi pi-save",className:"p-button-success"})})]})]})},I=a(4427),S=a(8927),X=a(6339),C=a(7074),O=a(2519);function P(e){var t,a=e.onUpload,n=(0,d.useRef)(null),i=(0,d.useState)(0),l=i[0],r=i[1],o=(0,d.useState)(!1),u=o[0],m=o[1],p=(0,d.useState)([]),f=(p[0],p[1]),v=(0,d.useRef)(null),h=(t=(0,s.Z)(c().mark(function e(t){var i,l,s,o;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=0,t.files.forEach(function(e){i+=e.size||0}),f([]),r(i),l=new FormData,t.files.forEach(function(e){l.append("file",e),l.append("name",e.name)}),e.prev=6,m(!0),e.next=10,fetch(t.options.props.url,{method:"POST",body:l});case 10:if(!(s=e.sent).ok){e.next=19;break}return e.next=14,s.json();case 14:o=e.sent,m(!1),t.options.clear(),a(o.data),n.current.show({severity:"success",summary:"Успех",detail:o.message});case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),m(!1),n.current.show({severity:"error",summary:"Неудача",detail:e.t0.message});case 25:case"end":return e.stop()}},e,null,[[6,21]])})),function(e){return t.apply(this,arguments)}),g=function(e,t,a){r(l-e.size),t(a)},x=function(){r(0)};return(0,y.BX)("div",{children:[(0,y.tZ)(Z.F,{ref:n}),(0,y.tZ)(C.u,{target:".custom-choose-btn",content:"Choose",position:"bottom"}),(0,y.tZ)(C.u,{target:".custom-upload-btn",content:"Upload",position:"bottom"}),(0,y.tZ)(C.u,{target:".custom-cancel-btn",content:"Clear",position:"bottom"}),(0,y.tZ)(I.p,{ref:v,name:"uploadImages",url:"/api/uploadImg",multiple:!0,accept:"image/*",maxFileSize:1e7,onSelect:function(e){var t=l,a=e.files;Object.keys(a).forEach(function(e,n){t+=a[n].size||0}),r(t)},onError:x,onClear:x,headerTemplate:function(e){var t=e.className,a=e.chooseButton,n=e.uploadButton,i=e.cancelButton,r=v&&v.current?v.current.formatSize(l):"0 B";return(0,y.BX)("div",{className:t,style:{backgroundColor:"transparent",display:"flex",alignItems:"center"},children:[a,n,i,u&&(0,y.tZ)(X.G,{style:{width:"40px",height:"40px"}}),(0,y.BX)("div",{className:"flex align-items-center gap-3 ml-auto",children:[(0,y.BX)("span",{children:[r," / 5 MB"]}),(0,y.tZ)(S.k,{value:l/1e5,showValue:!1,style:{width:"10rem",height:"12px"}})]})]})},itemTemplate:function(e,t){return(0,y.BX)("div",{className:"flex align-items-center flex-wrap",children:[(0,y.BX)("div",{className:"flex align-items-center",style:{width:"40%"},children:[(0,y.tZ)("img",{alt:e.name,role:"presentation",src:e.objectURL,width:100}),(0,y.BX)("span",{className:"flex flex-column text-left ml-3",children:[e.name,(0,y.tZ)("small",{children:new Date().toLocaleDateString()})]})]}),(0,y.tZ)(O.V,{value:t.formatSize,severity:"warning",className:"px-3 py-2"}),(0,y.tZ)(b.z,{type:"button",icon:"pi pi-times",className:"p-button-outlined p-button-rounded p-button-danger ml-auto",onClick:function(a){return g(e,t.onRemove,a)}})]})},emptyTemplate:function(){return(0,y.BX)("div",{className:"flex align-items-center flex-column",children:[(0,y.tZ)("i",{className:"pi pi-image mt-3 p-5",style:{fontSize:"5em",borderRadius:"50%",backgroundColor:"var(--surface-b)",color:"var(--surface-d)"}}),(0,y.tZ)("span",{style:{fontSize:"1.2em",color:"var(--text-color-secondary)"},className:"my-5",children:"Перетащите изображения сюда или нажмите на кнопку выбора"})]})},chooseOptions:{icon:"pi pi-fw pi-images",iconOnly:!0,className:"custom-choose-btn p-button-rounded p-button-outlined"},uploadOptions:{icon:"pi pi-fw pi-cloud-upload",iconOnly:!0,className:"custom-upload-btn p-button-success p-button-rounded p-button-outlined"},cancelOptions:{icon:"pi pi-fw pi-times",iconOnly:!0,className:"custom-cancel-btn p-button-danger p-button-rounded p-button-outlined"},customUpload:!0,uploadHandler:h})]})}var j=a(1383),F=a(3179),z=a(7858),R=a(1641),L=a(7283),E=a(2091),T=a(1039),U=function(e){var t=e.onChoose,a=(0,d.useState)(!1),i=a[0],r=a[1],s=(0,d.useState)(20),o=s[0],c=s[1],u=(0,d.useState)(20),m=u[0];u[1];var p=(0,d.useState)(""),f=p[0],v=p[1],h=(0,d.useState)(""),x=h[0],Z=h[1],N=(0,d.useState)([]),_=N[0],w=N[1],k=(0,R.a)((0,L.Ps)(n||(n=(0,j.Z)(["\n      query getImg($first: Int, $after: String, $last: Int, $before: String) {\n    mediaItems(first: $first, after: $after, last: $last, before: $before) {\n      nodes {\n        databaseId\n        id\n        mediaItemUrl\n        sourceUrl(size: MEDIUM)\n      }\n      pageInfo {\n      hasNextPage\n      endCursor\n      startCursor\n      hasPreviousPage\n    }\n    }\n  }"]))),{variables:{first:o,after:null,last:null,before:null},onCompleted:function(e){v(e.mediaItems.pageInfo.endCursor),Z(e.mediaItems.pageInfo.startCursor)}}),B=k.data,I=k.loading,S=(k.error,k.fetchMore),C=(0,y.BX)("div",{style:{paddingTop:"20px"},children:[(0,y.tZ)(b.z,{icon:"pi pi-times",className:"p-button-text",label:"Отмена",onClick:function(){r(!1),w([]),t([])}}),(0,y.tZ)(b.z,{icon:"pi pi-check",label:"Выбрать",onClick:function(){t(_.map(function(e){return{id:e.databaseId,alt_text:"",src:e.mediaItemUrl}})),r(!1)}})]}),O=function(e,t){var a=_.findIndex(function(e){return e.id===t.id});if(-1!==a){w(function(e){var t=(0,l.Z)(e);return t.splice(a,1),t});return}w(function(e){return[].concat((0,l.Z)(e),[t])})};return(0,y.BX)("div",{className:"my-3",children:[(0,y.tZ)(b.z,{label:"Или выберите изображения",onClick:function(){return r(!0)}}),(0,y.BX)(D,{visible:i,footer:C,onHide:function(){return r(!1)},children:[(0,y.tZ)("h1",{children:"Выберите изображения"}),(0,y.BX)("div",{className:"flex flex-wrap",children:[I&&(0,y.tZ)("div",{style:{width:"100%",height:"200px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,y.tZ)(X.G,{})}),!I&&(null==B?void 0:B.mediaItems.nodes.map(function(e){var t=_.find(function(t){return t.id===e.id});return e.mediaItemUrl.endsWith(".mov")||e.mediaItemUrl.endsWith(".mp4")?(0,y.tZ)("div",{style:{width:"100px",height:"100px",border:"1px solid #aaa",display:"flex",alignItems:"center",justifyContent:"center"},className:"m-2",children:(0,y.tZ)("p",{children:"Видео"})},e.id):(0,y.tZ)("div",{onClick:function(t){return O(t,e)},style:{padding:"5px",border:"3px solid ".concat(t?"#6366F1":"transparent"),borderRadius:"10px"},className:"m-2",children:(0,y.tZ)("img",{width:100,height:100,style:{objectFit:"cover"},src:e.sourceUrl,alt:e.mediaItemUrl})},e.id)}))]}),(0,y.tZ)(E.D,{template:{layout:"RowsPerPageDropdown PrevPageLink NextPageLink",RowsPerPageDropdown:function(e){return(0,y.BX)(y.HY,{children:[(0,y.BX)("span",{className:"mx-1",style:{color:"var(--text-color)",userSelect:"none"},children:["Количество изображений на странице:"," "]}),(0,y.tZ)(g.L,{className:"mr-3 mt-3",value:o,options:[{label:5,value:5},{label:10,value:10},{label:20,value:20},{label:50,value:50},{label:80,value:80}],onChange:function(e){c(e.value)}})]})},PrevPageLink:function(e){return(0,y.tZ)(y.HY,{children:(0,y.tZ)(b.z,{icon:"pi pi-angle-left",className:"mr-10 mt-3",onClick:function(){S({variables:{first:null,after:null,last:o,before:x},updateQuery:function(e,t){var a=t.fetchMoreResult;return a?Object.assign({},e,{mediaItems:{nodes:(0,l.Z)(a.mediaItems.nodes),pageInfo:a.mediaItems.pageInfo}}):e}})},disabled:!(null!=B&&B.mediaItems.pageInfo.hasPreviousPage)})})},NextPageLink:function(){return(0,y.tZ)(y.HY,{children:(0,y.tZ)(b.z,{icon:"pi pi-angle-right",className:"mt-3",style:{marginLeft:"10px"},onClick:function(){S({variables:{first:o,after:f,last:null,before:null},updateQuery:function(e,t){var a=t.fetchMoreResult;return a?Object.assign({},e,{mediaItems:{nodes:(0,l.Z)(a.mediaItems.nodes),pageInfo:a.mediaItems.pageInfo}}):e}})},disabled:!(null!=B&&B.mediaItems.pageInfo.hasNextPage)})})}},first:m,rows:o,totalRecords:1200,className:"justify-content-start"})]})]})},D=(0,F.Z)(z.V,{target:"e16vzec50"})((0,r.Z)({width:"80vw"},T.H.mobileL,{width:"100vw",height:"100%",h1:{fontSize:"1.5rem"},img:{width:"50px",height:"50px"},button:{span:{fontSize:"0.8rem"}}}),""),q=!0;function M(e){var t=e.categories,a=e.attributes,n=e.sku,l=(0,d.useState)([]),r=l[0],s=l[1],o=(0,d.useState)(!1),c=o[0],m=o[1];return(0,y.BX)(i.Z,{children:[(0,y.tZ)("h1",{className:"my-3",children:"Добавить новое"}),(0,y.tZ)("h2",{className:"my-3",children:"Сначала выберите изображения"}),(0,y.tZ)(P,{onUpload:function(e){s(function(){return e}),m(function(){return!0})}}),(0,y.tZ)(U,{onChoose:function(e){0===e.length?m(function(){return!1}):m(function(){return!0}),s(function(){return e})}}),(0,y.tZ)(u.p,{className:"mt-3",children:r.length?(0,y.BX)("p",{children:["Добавлено ",r.length," изображений"]}):(0,y.tZ)("p",{children:"Изображения не добавлены"})}),c&&(0,y.tZ)(B,{categories:t,sku:n,attributes:a,images:r})]})}},7009:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/addnew",function(){return a(7861)}])}},function(e){e.O(0,[714,916,567,65,173,38,774,888,179],function(){return e(e.s=7009)}),_N_E=e.O()}]);